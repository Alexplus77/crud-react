(this["webpackJsonpcrud-react"]=this["webpackJsonpcrud-react"]||[]).push([[0],{12:function(e,t,n){"use strict";n.r(t),n.d(t,"PageCards",(function(){return b}));var c=n(1),a=n.n(c),s=n(5),r=n.n(s),i=(n(3),n(0)),o=function(){return Object(i.jsx)("div",{className:"container",children:Object(i.jsx)(b,{})})},u=(n(11),n(2)),l=function(e){var t=e.content,n=e.id,c=e.handleRemove;return Object(i.jsxs)("div",{className:"card",children:[Object(i.jsx)("i",{onClick:function(){return c(n)},className:"fa fa-times-circle","aria-hidden":"true"}),Object(i.jsxs)("p",{className:"content",children:[" ",t]})]})},d=function(e){var t=e.handleSubmit,n=e.handleChange,c=e.value;return Object(i.jsxs)("form",{onSubmit:t,className:"form",children:[Object(i.jsx)("textarea",{value:c,onChange:n,required:!0}),Object(i.jsxs)("button",{className:"btn-send",onSubmit:t,disabled:!c,children:[" ",Object(i.jsx)("i",{className:"fa fa-space-shuttle","aria-hidden":"true"})]})]})},j=function(){return Object(i.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(i.jsx)("span",{className:"sr-only",children:"Loading..."})})},h="http://localhost:8080/notes/",b=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(null),r=Object(u.a)(s,2),o=r[0],b=r[1],f=Object(c.useState)(!1),O=Object(u.a)(f,2),m=O[0],x=O[1],v=Object(c.useState)(!1),N=Object(u.a)(v,2),p=N[0],g=N[1],S=function(){g(!0),setTimeout((function(){g(!1),x(!m)}),2e3)};Object(c.useEffect)((function(){fetch(h).then((function(e){return e.json()})).then((function(e){b(e)})).catch((function(e){return console.log(e)}))}),[m]);var C=function(e){fetch(h+e,{method:"DELETE"}).then((function(e){return e.json()})).then((function(){S()})).catch((function(e){return console.log(e)}))};return Object(i.jsxs)("div",{className:"cards",children:[Object(i.jsxs)("div",{className:"title",children:[" ","Notes"," ",p?Object(i.jsx)(j,{}):Object(i.jsx)("button",{className:"btn-refresh",children:Object(i.jsx)("i",{onClick:S,className:"fa fa-refresh","aria-hidden":"true"})})]}),Object(i.jsx)("div",{className:"container-cards",children:(null===o||void 0===o?void 0:o.length)?null===o||void 0===o?void 0:o.map((function(e){var t=e.content,n=e.id;return Object(i.jsx)(l,{id:n,content:t,handleRemove:C},n)})):Object(i.jsx)("i",{className:"message",children:"\u041f\u043e\u043a\u0430 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u043d\u0435\u0442..."})}),Object(i.jsx)("i",{children:"New Note"}),Object(i.jsx)(d,{handleSubmit:function(e){e.preventDefault(),fetch(h,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({content:n})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})),a(""),S()},handleChange:function(e){var t=e.target.value;t.trim()&&a(t)},value:n})]})};r.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(o,{})}),document.getElementById("root"))},3:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.a6126a4c.chunk.js.map