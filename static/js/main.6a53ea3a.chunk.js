(this["webpackJsonpcrud-react"]=this["webpackJsonpcrud-react"]||[]).push([[0],{12:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(5),r=n.n(a),i=(n(3),n(2)),o=n(0),j=function(e){var t=e.content,n=e.id,c=e.handleRemove;return Object(o.jsxs)("div",{className:"card",children:[Object(o.jsx)("i",{onClick:function(){return c(n)},className:"fa fa-times-circle","aria-hidden":"true"}),Object(o.jsxs)("p",{className:"content",children:[" ",t]})]})},l=function(e){var t=e.refresh,n=Object(c.useState)(""),s=Object(i.a)(n,2),a=s[0],r=s[1],j=function(e){e.preventDefault(),fetch("http://localhost:8080/notes",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({content:a})}).then((function(e){return e.json()})),r(""),t()};return Object(o.jsxs)("form",{onSubmit:j,className:"form",children:[Object(o.jsx)("textarea",{value:a,onChange:function(e){var t=e.target.value;t.trim()&&r(t)},required:!0}),Object(o.jsxs)("button",{className:"btn-send",onSubmit:j,children:[" ",Object(o.jsx)("i",{className:"fa fa-space-shuttle","aria-hidden":"true"})]})]})},u=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),r=Object(i.a)(a,2),u=r[0],d=r[1],h=Object(c.useState)(!1),b=Object(i.a)(h,2),f=b[0],O=b[1],m=function(){O(!0),setTimeout((function(){O(!1),d(!u)}),2e3)};Object(c.useEffect)((function(){fetch("http://localhost:8080/notes").then((function(e){return e.json()})).then((function(e){s(e)}))}),[u]);var x=function(e){fetch("http://localhost:8080/notes/".concat(e),{method:"DELETE"}).then((function(e){return e.json()})).then((function(){m()}))};return Object(o.jsxs)("div",{className:"cards",children:[Object(o.jsxs)("div",{className:"title",children:[" ","Notes"," ",f?Object(o.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:Object(o.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(o.jsx)("button",{className:"btn-refresh",children:Object(o.jsx)("i",{onClick:m,className:"fa fa-refresh","aria-hidden":"true"})})]}),Object(o.jsx)("div",{className:"container-cards",children:(null===n||void 0===n?void 0:n.length)?null===n||void 0===n?void 0:n.map((function(e){var t=e.content,n=e.id;return Object(o.jsx)(j,{id:n,content:t,handleRemove:x},n)})):Object(o.jsx)("i",{className:"message",children:"\u041f\u043e\u043a\u0430 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u043d\u0435\u0442..."})}),Object(o.jsx)("i",{children:"New Note"}),Object(o.jsx)(l,{refresh:m})]})};var d=function(){return Object(o.jsx)("div",{className:"container",children:Object(o.jsx)(u,{})})};n(11);r.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(d,{})}),document.getElementById("root"))},3:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.6a53ea3a.chunk.js.map